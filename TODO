fatlease 论文中 renew的情况，影响不到 booth的情况，因为

renew的时候 proper instance number+1与论文一致

abandon_lease 定时器 在timeout时，丢掉lease



On_learn时，更新proposer的数据

acceptor wait before re-join  v + d_max 


1.discard acceptor data 的情况
还有reject的msg

Fig.4c: proposer higher, last round != None and NON-OUTDATE
          return reject
          get majority


Fig.4d: proposer lower,  last round == None:
          return OUTDATE 

should always D

定时器一到
acceptor 全清

check_local_stat 在proposer中，


in proposer

missed n-1, found n
apply n-1
now n-2
catchup data

1. If n is incomplete, proposals may only be issued in this instance if the lease in n − 1 is no longer valid.

OK, time > 

2. If the lease may still be valid or n−1 was missed, the proposal must be submitted in n − 1 instead

if OUTDATE:
  if pl.i < (p.i - 1):
    #miss the current lease owner
    #turn to catchup
    
    pl ← (⊥, p.λ_acc , p.b, p.i)
    initial_consensus(hl , p.i - 1)
  elif pl.i == (p.i - 1):
    pl ← (⊥, p.λ_acc , p.b, p.i)
    initial_consensus(hl, p.i)

apply i-1,make sure to lose


1.test suit
2.add revoke method
3.add maintaince method
